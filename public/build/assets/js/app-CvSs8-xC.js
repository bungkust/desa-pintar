let h=!1;function u(){const t=document.querySelector("[data-navbar]");if(!t||h)return;const n=t.getAttribute("data-navbar");n&&(L(n),S(n),A(n),x(t),h=!0)}function L(t){const n=document.getElementById(`${t}-mobile-button`),e=document.getElementById(`${t}-mobile-menu`),i=document.querySelector(`[data-navbar="${t}"]`);if(!n||!e||!i)return;n.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault();const l=!(n.getAttribute("aria-expanded")==="true");l?e.classList.remove("hidden"):e.classList.add("hidden"),n.setAttribute("aria-expanded",l?"true":"false");const c=document.getElementById(`${t}-mobile-icon-open`),a=document.getElementById(`${t}-mobile-icon-close`);c&&a&&(l?(c.classList.add("hidden"),a.classList.remove("hidden")):(c.classList.remove("hidden"),a.classList.add("hidden")))}),i.querySelectorAll("[data-mobile-toggle]").forEach(s=>{s.addEventListener("click",o=>{o.stopPropagation();const l=s.getAttribute("data-mobile-toggle"),c=document.getElementById(l),a=l.replace(`${t}-submenu-`,""),f=i.querySelector(`[data-icon="${t}-icon-${a}"]`);if(!c)return;const v=s.getAttribute("aria-expanded")==="true",b=c.closest('[role="menu"]');b&&b.querySelectorAll('[role="menu"]').forEach(r=>{if(r!==c&&!c.contains(r)){r.classList.add("hidden");const g=i.querySelector(`[data-mobile-toggle="${r.id}"]`);if(g){g.setAttribute("aria-expanded","false");const p=r.id.replace(`${t}-submenu-`,""),y=i.querySelector(`[data-icon="${t}-icon-${p}"]`);y&&y.classList.remove("rotate-180")}}}),c.classList.toggle("hidden"),s.setAttribute("aria-expanded",v?"false":"true"),f&&f.classList.toggle("rotate-180")})}),e.addEventListener("click",s=>{if(s.target.tagName==="A"&&!s.target.closest("button")){e.classList.add("hidden"),n.setAttribute("aria-expanded","false");const o=document.getElementById(`${t}-mobile-icon-open`),l=document.getElementById(`${t}-mobile-icon-close`);o&&l&&(o.classList.remove("hidden"),l.classList.add("hidden"))}})}function S(t){const n=document.querySelector(`[data-navbar="${t}"]`);n&&n.addEventListener("keydown",e=>{const i=e.target;if(i.matches("a[href], button[data-mobile-toggle]"))switch(e.key){case"Enter":case" ":i.matches("button[data-mobile-toggle]")&&(e.preventDefault(),i.click());break;case"Escape":const s=document.getElementById(`${t}-mobile-menu`),o=document.getElementById(`${t}-mobile-button`);if(s&&!s.classList.contains("hidden")){if(s.classList.add("hidden"),o){o.setAttribute("aria-expanded","false");const c=document.getElementById(`${t}-mobile-icon-open`),a=document.getElementById(`${t}-mobile-icon-close`);c&&a&&(c.classList.remove("hidden"),a.classList.add("hidden"))}s.querySelectorAll('[role="menu"]').forEach(c=>{if(c.id!==s.id){c.classList.add("hidden");const a=n.querySelector(`[data-mobile-toggle="${c.id}"]`);a&&a.setAttribute("aria-expanded","false")}}),o&&o.focus()}break;case"ArrowDown":e.preventDefault(),B(i,n);break;case"ArrowUp":e.preventDefault(),$(i,n);break}})}function B(t,n){const e=Array.from(n.querySelectorAll("a[href], button[data-mobile-toggle]")),i=e.indexOf(t);i<e.length-1&&e[i+1].focus()}function $(t,n){const e=Array.from(n.querySelectorAll("a[href], button[data-mobile-toggle]")),i=e.indexOf(t);i>0&&e[i-1].focus()}function A(t){const n=document.querySelector(`[data-navbar="${t}"]`),e=document.getElementById(`${t}-mobile-menu`),i=document.getElementById(`${t}-mobile-button`);!n||!e||document.addEventListener("click",d=>{if(!n.contains(d.target)&&!e.classList.contains("hidden")){if(e.classList.add("hidden"),i){i.setAttribute("aria-expanded","false");const o=document.getElementById(`${t}-mobile-icon-open`),l=document.getElementById(`${t}-mobile-icon-close`);o&&l&&(o.classList.remove("hidden"),l.classList.add("hidden"))}e.querySelectorAll('[role="menu"]').forEach(o=>{if(o.id!==e.id){o.classList.add("hidden");const l=n.querySelector(`[data-mobile-toggle="${o.id}"]`);l&&l.setAttribute("aria-expanded","false")}})}})}function x(t){t.querySelectorAll("[data-level2-dropdown]").forEach(e=>{const i=e.closest(".group");if(!i)return;i.addEventListener("mouseenter",()=>{E(e,i)});let d;window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{i.matches(":hover")&&E(e,i)},100)},{passive:!0})})}function E(t,n){const e=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.visibility="hidden",t.style.display="block";const i=n.getBoundingClientRect(),s=t.getBoundingClientRect().width||224,o=window.innerWidth-i.right,l=i.left;t.classList.remove("left-full","right-full","ml-1.5","mr-1.5"),o<s&&l>s?t.classList.add("right-full","mr-1.5"):t.classList.add("left-full","ml-1.5"),t.style.visibility="",t.style.display="",e&&t.classList.add("hidden")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();window.initNavbar=u;function m(){document.querySelectorAll(".nav-submenu-item").forEach(n=>{const e=n.querySelector(".nav-submenu-level2");if(!e)return;n.addEventListener("mouseenter",()=>{e.style.display="block",e.style.opacity="1",e.style.visibility="visible",e.style.pointerEvents="auto"}),e.addEventListener("mouseenter",()=>{e.style.display="block",e.style.opacity="1",e.style.visibility="visible",e.style.pointerEvents="auto"});let i;const d=()=>{i=setTimeout(()=>{!n.matches(":hover")&&!e.matches(":hover")&&(e.style.display="none",e.style.opacity="0",e.style.visibility="hidden",e.style.pointerEvents="none")},100)};n.addEventListener("mouseleave",d),e.addEventListener("mouseleave",d),n.addEventListener("mouseenter",()=>{clearTimeout(i)}),e.addEventListener("mouseenter",()=>{clearTimeout(i)})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m):m();const q=u;u=function(){q(),setTimeout(m,100)};
