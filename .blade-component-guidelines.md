# Blade Component Guidelines

## Preventing Duplication Issues

### ‚ö†Ô∏è Common Problem: File Duplication
Blade component files can accidentally get duplicated content, causing:
- **Infinite loops** in rendering
- **Multiple renders** of the same content
- **Performance issues**
- **Unexpected behavior**

### ‚úÖ Best Practices

#### 1. **Single Responsibility**
Each component file should have:
- **One** `@props` declaration at the top
- **One** main container element
- **One** `{{ $slot }}` for content (if using slots)
- **One** `@push('styles')` block (if needed)

#### 2. **File Structure Template**
```blade
@props([
    'prop1' => null,
    'prop2' => 'default',
])

@push('styles')
<style>
    /* Styles here */
</style>
@endpush

<div class="component-container">
    <!-- Component content -->
    {{ $slot }}
</div>
```

#### 3. **Validation Checklist**
Before committing, ensure:
- [ ] File has only **one** `@props` declaration
- [ ] File has only **one** `{{ $slot }}` (if applicable)
- [ ] File has only **one** `@push('styles')` (if applicable)
- [ ] File is not excessively large (>500 lines should be reviewed)
- [ ] No duplicate HTML structures

#### 4. **Running Validation**
Use the provided script to check for duplicates:
```bash
./scripts/check-blade-duplicates.sh
```

### üîç How to Detect Duplication

#### Signs of Duplication:
1. **File size**: Component files should typically be <500 lines
2. **Multiple `@props`**: Should only appear once at the top
3. **Multiple `{{ $slot }}`**: Should only appear once
4. **Repeated HTML**: Same structure appearing multiple times

#### Example of Duplication (BAD):
```blade
@props(['title'])

<div>{{ $title }}</div>

@props(['title'])  <!-- ‚ùå DUPLICATE! -->

<div>{{ $title }}</div>
```

#### Correct Structure (GOOD):
```blade
@props(['title'])

<div>{{ $title }}</div>
```

### üõ†Ô∏è Fixing Duplication

If you find duplication:
1. **Identify** the duplicate sections
2. **Remove** all but one instance
3. **Test** the component thoroughly
4. **Run** the validation script
5. **Clear** view cache: `php artisan view:clear`

### üìù Component Naming

- Use **kebab-case** for file names: `article-layout.blade.php`
- Use **dot notation** for nested components: `x-layouts.article-layout`
- Keep component names **descriptive** and **consistent**

### üö® Red Flags

Watch out for:
- Files with >500 lines (consider splitting)
- Multiple `@props` declarations
- Multiple `{{ $slot }}` in layout components
- Repeated CSS blocks
- Same HTML structure appearing multiple times

---

**Last Updated**: 2025-01-17
**Maintained by**: Development Team

