/* Sticky Table Header for Filament Tables */
.fi-ta-table thead {
    position: sticky;
    top: 0;
    z-index: 10;
    background-color: rgb(249 250 251); /* gray-50 */
}

.dark .fi-ta-table thead {
    background-color: rgb(17 24 39); /* gray-900 */
}

/* Ensure header cells have proper background */
.fi-ta-table thead th {
    background-color: inherit;
}

.dark .fi-ta-table thead th {
    background-color: inherit;
}

/* ===========================================
   Compact Action Group Dropdown - Jira/Linear Style
   =========================================== */

/* Fix dropdown width and prevent stretching */
.fi-ac-action-group [data-headlessui-state] > div,
.fi-ac-action-group [role="menu"] {
    width: 11rem !important; /* w-44 = 176px = 11rem */
    min-width: 11rem !important;
    max-width: 11rem !important;
    white-space: nowrap !important;
}

/* Dropdown container styling - compact and fixed width */
.fi-ac-action-group [role="menu"] {
    padding: 0.5rem 0 !important; /* py-2 */
    background-color: white !important;
    border: 1px solid rgb(229 231 235) !important; /* border-gray-200 */
    border-radius: 0.375rem !important; /* rounded-md */
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important; /* shadow-lg */
    font-size: 0.875rem !important; /* text-sm */
    white-space: nowrap !important;
    overflow: hidden !important;
}

/* Dark mode dropdown */
.dark .fi-ac-action-group [role="menu"] {
    background-color: rgb(31 41 55) !important; /* gray-800 */
    border-color: rgb(55 65 81) !important; /* gray-700 */
}

/* Dropdown items - compact padding, no wrapping */
.fi-ac-action-group [role="menuitem"] {
    width: 100% !important;
    padding: 0.5rem 1rem !important; /* px-4 py-2 */
    white-space: nowrap !important;
    text-overflow: ellipsis !important;
    overflow: hidden !important;
    display: block !important;
    text-align: left !important;
    transition: background-color 0.15s ease-in-out !important;
}

/* Hover state for dropdown items */
.fi-ac-action-group [role="menuitem"]:hover {
    background-color: rgb(243 244 246) !important; /* hover:bg-gray-100 */
}

.dark .fi-ac-action-group [role="menuitem"]:hover {
    background-color: rgb(55 65 81) !important; /* gray-700 */
}

/* Delete action styling - red text and hover */
.fi-ac-action-group [role="menuitem"][data-danger="true"],
.fi-ac-action-group [role="menuitem"]:has([data-danger="true"]),
.fi-ac-action-group [role="menuitem"]:has(.text-danger),
.fi-ac-action-group [role="menuitem"]:has([class*="text-red"]) {
    color: rgb(220 38 38) !important; /* text-red-600 */
}

.fi-ac-action-group [role="menuitem"][data-danger="true"]:hover,
.fi-ac-action-group [role="menuitem"]:has([data-danger="true"]):hover,
.fi-ac-action-group [role="menuitem"]:has(.text-danger):hover,
.fi-ac-action-group [role="menuitem"]:has([class*="text-red"]):hover {
    background-color: rgb(254 242 242) !important; /* hover:bg-red-50 */
}

.dark .fi-ac-action-group [role="menuitem"][data-danger="true"]:hover,
.dark .fi-ac-action-group [role="menuitem"]:has([data-danger="true"]):hover {
    background-color: rgb(127 29 29) !important; /* dark red */
}

/* Action column cell - prevent stretching, compact layout */
.fi-ta-actions-cell {
    width: auto !important;
    min-width: auto !important;
    max-width: none !important;
    padding: 0.5rem !important;
}

.fi-ta-actions-cell > div {
    display: flex !important;
    align-items: center !important;
    justify-content: flex-end !important;
    gap: 0.25rem !important; /* gap-1 */
    width: auto !important;
    flex-wrap: nowrap !important;
}

/* Icon buttons - compact size */
.fi-ac-action-group button[type="button"],
.fi-ac-action button[type="button"] {
    padding: 0.5rem !important; /* p-2 */
    border-radius: 0.25rem !important; /* rounded */
    transition: background-color 0.15s ease-in-out !important;
    flex-shrink: 0 !important;
    width: auto !important;
    min-width: auto !important;
}

.fi-ac-action-group button[type="button"]:hover,
.fi-ac-action button[type="button"]:hover {
    background-color: rgb(243 244 246) !important; /* hover:bg-gray-100 */
}

.dark .fi-ac-action-group button[type="button"]:hover,
.dark .fi-ac-action button[type="button"]:hover {
    background-color: rgb(55 65 81) !important; /* gray-700 */
}

/* Ensure action group doesn't expand */
.action-group-compact,
.fi-ac-action-group {
    width: auto !important;
    min-width: auto !important;
    flex-shrink: 0 !important;
    display: inline-flex !important;
}

/* Prevent action buttons from stretching */
.fi-ac-action {
    width: auto !important;
    min-width: auto !important;
    flex-shrink: 0 !important;
}

/* Fix for Filament's action group dropdown positioning */
.fi-ac-action-group [data-headlessui-state] {
    position: relative !important;
}

/* Ensure dropdown is positioned correctly */
.fi-ac-action-group [role="menu"] {
    position: absolute !important;
    right: 0 !important;
    margin-top: 0.5rem !important; /* mt-2 */
    z-index: 50 !important;
}

